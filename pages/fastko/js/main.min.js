function preloader(){document.body.classList.add("loaded_hiding"),window.setTimeout(function(){document.body.classList.add("loaded"),document.body.classList.remove("loaded_hiding")},500)}$(document).ready(function(){$("body").hasClass("page-inner")?$(".header").removeClass("header--white").addClass("header--black"):$(window).scroll(function(){var e=$(this).scrollTop();600<e?$(".header").removeClass("header--white").addClass("header--black"):$(".header").removeClass("header--black").addClass("header--white"),0}),$('a[href*="#section-form"]').click(function(e){e.preventDefault();e=$(this).attr("href"),e=$(e).offset().top-100;$("html").animate({scrollTop:e},1500)}),AOS.init(),$(".carousel").on("slide.bs.carousel",function(){$(this).find(".aos-init").removeClass("aos-animate")}),$(".carousel").on("slid.bs.carousel",function(){$(this).find(".aos-init").addClass("aos-animate")}),$('a[data-toggle="tab"]').on("hide.bs.tab",function(){$(".tab-pane").find(".aos-init").removeClass("aos-animate")}),$('a[data-toggle="tab"]').on("shown.bs.tab",function(){var e=$(this).attr("href");$(e).find(".aos-init").addClass("aos-animate")}),$(".nav-toggle-menu").click(function(){$(this).toggleClass("open"),$(".header").toggleClass("show-menu").removeClass("header--black").addClass("header--white")}),$("*").on("show.bs.modal",function(e){$("*").not(this).modal("hide")});var a=$(".section--map"),t=$(".map .caption-wrapper"),o=$(".map .caption-wrapper svg tspan"),s=$(".map svg polygon, .map svg path");s.on("mousemove",function(){var e=$(this).attr("id");o.text(e),e=event,x=e.clientX-400,y=e.clientY-200,t.css("left",x+"px"),t.css("top",y+"px")});var i=$("#selectObl span"),e=$("#selectObl + .dropdown-menu .dropdown-item");function n(){$("body").removeClass("loaded"),a.find(".aos-init").removeClass("aos-animate"),setTimeout(function(){preloader(),a.find(".aos-init").addClass("aos-animate")},500)}s.on("click",function(){var e=$(this).attr("id");s.removeClass("active"),$(this).addClass("active"),i.text(e),n()}),e.on("click",function(){n()}),$(".carousel .list-min-udobr").slick({slidesToShow:2}),$("#carousel-3").on("slide.bs.carousel",function(){$(".list-min-udobr").slick("resize")}),$(".form-control:not([type=date])").on("input",function(e){e.preventDefault(),$(this).val()?$(this).addClass("no-empty"):$(this).removeClass("no-empty")});var d=$(".form-control.dropdown-toggle");$(".form-control.dropdown-toggle ~ .dropdown-menu .dropdown-item").on("click",function(){var e=$(this).text(),a=$(this).parents(".dropdown");a.find(".dropdown-item.active").removeClass("active"),$(this).addClass("active"),a.find(d).addClass("no-empty").find("span").text(e)});$("#input-station-from, #input-station-to").autocomplete({source:["Красноярская область","Ленинградская область","Московская область","Нижегородская область","Оренбургская область","Саратовская область"],autoFocus:!0,classes:{"ui-autocomplete":"dropdown-menu","ui-menu-item":"dropdown-item"}}),$(".pagination .page-link").on("click",function(e){e.preventDefault(),$(this).parent().hasClass("active")||($(".page-item").removeClass("active"),$(this).parent(".page-item:not(:last-child)").addClass("active"),$("body").removeClass("loaded"),setTimeout(function(){preloader(),a.find(".aos-init").addClass("aos-animate")},500))}),$(".product-slider-photo").slick({slidesToScroll:1,asNavFor:".product-slider-thumb",arrows:!1}),$(".product-slider-thumb").slick({slidesToScroll:1,slidesToShow:3,vertical:!0,asNavFor:".product-slider-photo",focusOnSelect:!0}),$(".product-slider-photo").magnificPopup({delegate:"a",removalDelay:500,type:"image",tLoading:"...",gallery:{enabled:!0,navigateByImgClick:!0,preload:[0,1]},image:{tError:"Не загрузилось"},callbacks:{beforeOpen:function(){this.st.image.markup=this.st.image.markup.replace("mfp-figure","mfp-figure mfp-with-anim"),this.st.mainClass=this.st.el.attr("data-effect")}},midClick:!0}),$(".product-list-min-udobr").slick({slidesToShow:6})}),window.onload=preloader(),window.addEventListener("load",function(){var e=document.getElementsByClassName("needs-validation");Array.prototype.filter.call(e,function(a){a.addEventListener("submit",function(e){!1===a.checkValidity()&&(e.preventDefault(),e.stopPropagation()),!0===a.checkValidity()&&(e.preventDefault(),e.stopPropagation(),$("#modal--reg").modal("show")),a.classList.add("was-validated")},!1)})},!1);